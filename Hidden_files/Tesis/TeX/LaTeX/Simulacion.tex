\chapter{Simulación}

La simulación es un proceso que nos permite estudiar el comportamiento de un sistema complejo y difícil de examinar de manera analítica. Nos ayuda a determinar de manera empírica las probabilidades de ciertos eventos. También nos permite experimentar con diversos supuestos que podrían ser muy costosos o riesgosos de realizar físicamente, como enseñar a los pilotos a volar un avión.

Algunas áreas de aplicación son: biología, estadística, medicina, química, matemáticas, investigación de operaciones, física y ciencias sociales. Los ejemplos de su aplicación van desde simular el lanzamiento de una moneda justa, hasta la simulación de colisiones de átomos en un acelerador de partículas.

Actualmente se combinan diferentes metodologías de simulación con el software disponible, el análisis de sensibilidad y la optimización estocástica. Ésto para obtener un mejor resultado al momento de simular sistemas que son cada vez más complejos como las redes neuronales.

En este trabajo utilizamos la simulación para poder realizar predicciones en base a datos históricos. Tomamos la información de los horarios de la Facultad y con ellos simulamos la demanda del número de alumnos para el siguiente semestre. Con esta demanda hicimos los esqueletos necesarios para realizar la asignación de horarios.

Recordemos que tomamos al semestre 2020-1 como semestre actual. Por lo tanto consideramos al 2020-2 como el siguiente semestre.

En \textit{R} realizamos la función \verb@gen_asignacion()@ encargada de generar la asignación de horarios, materias y profesores. En la \figurename{~\ref{DF_genAsig}} podemos ver el diagrama de flujo que sigue dicha función. A lo largo de este capítulo explicaremos los pasos (3)-(9) mostrados en el diagrama. Cabe aclarar que los pasos (1) y (2) corresponden a las Secciones \ref{sec_ED_SelectorGadget} y \ref{sec_ED_LimpiezaDatos}, respectivamente.

\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{diagrama_flujo} %scale = 0.7
\caption[\textit{Diagrama de flujo de la función ``gen\_asignacion()''}]{\textit{Se muestra el diagrama de flujo de la función ``gen\_asignacion()''. Se pueden ver los pasos para obtener la matriz de asignaciones.}}\label{DF_genAsig}
\end{figure}


\input{Sim_nom_materias} %%Sección %%To include subfiles in to a subfiles use \input{name_of_file}

\input{Sim_obtencionq1q2} %%Sección %%To include subfiles in to a subfiles use \input{name_of_file}

\input{Sim_nom_profesores} %%Sección %%To include subfiles in to a subfiles use \input{name_of_file}

\section{Simulación de tamaño de grupos} \label{SimTamGpos}

Definimos el tamaño de un grupo como el número de alumnos que tiene cada clase. Hicimos una función en \textit{R} que simula el tamaño de los grupos con respecto a los profesores. Decidimos realizar de esta manera la simulación porque queremos que el número de alumnos de cada grupo dependa de los profesores y no de la distribución general que tiene el tamaño de los grupos (ver Sección \ref{DitribTamGpos}). %Bajo el supuesto de que todos los profesores tienen cupo en sus grupos, los alumnos eligen una materia con respecto al profesor.

La función realiza los siguientes pasos (para cada uno de los profesores):
  
\begin{enumerate}
%\item Definir \textit{m\_grande\_2015} la cual es una submatriz de \textit{m\_grande\_total} con los datos de los semestres del 2015-1 al 2020-1.

\item Obtener, de \textit{m\_grande\_2015}, la información del número de alumnos que ha tenido un profesor.

\item Tomar el mínimo $(a)$ y el máximo $(b)$ de esos datos.

\item Obtener un número con la función \verb@sample(a:b, size=1)@.

\item Regresar el número obtenido en el paso anterior.
\end{enumerate}


\input{Sim_solicitudes} %%Sección %%To include subfiles in to a subfiles use \input{name_of_file}

\input{Sim_demanda_alumnos} %%Sección %%To include subfiles in to a subfiles use \input{name_of_file}

\input{Sim_esqueletos}