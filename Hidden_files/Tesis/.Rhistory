#' @return Valid_crom = 1 si el cromosoma cumple todas las restricciones, 0 si no
valida_cromosoma = function(cromosoma,param){
Valid_crom = 1
Val_V = Valida_V(param)
Val_y = Valida_y(param)
Val_x = Valida_x(cromosoma,param)
#Si alguna restricción no se cumple entonces la función arroja un cero
if(Val_V == 0 || Val_y == 0 || Val_x == 0){
Valid_crom = 0}
return(Valid_crom)
}
# Función utilidad_cromosoma -----------------------------------------------
#En esta función se calcula la utilidad de cada cromosoma.
#' Title: utilidad_cromosoma
#' @param cromosoma: Matriz de "j_materias" y 4 columnas (profesor, día, horario, salón); el renglón "j" indica que la materia "j" es impartida por el profesor "i", el día "t", en el horario "h", en el salón "k"
#' @example cromosoma = matrix(c(1,9,10,11,12,1,3,5),nrow = 2,ncol = 4,byrow = TRUE)
#' @param Uit: Matriz con "i_prof" renglones y "t_dias" columnas, cuya entrada (i,t) representa la utilidad que tiene el profesor "i" de impartir en el día "t"
#' @example Uit = matrix(c(1,2,3,4),nrow = 2,ncol = 2,byrow = TRUE)
#' @param Uji: con "j_materias" renglones y con "i_prof" columnas, cuya entrada (j,i) representa la utilidad que tiene el profesor "i" de impartir la materia "j"
#' @example Uji = matrix(c(5,6,7,8),nrow = 2,ncol = 2,byrow = TRUE)
#' @param Ujt: Matriz con "j_materias" renglones y "k_salones" columnas, cuya entrada (j,k) representa la utilidad que tiene la materia "j" por ser impartida en el salón "k"
#' @example Ujt = matrix(c(1,9,10,11,12,1),nrow = 2,ncol = 3,byrow = TRUE)
#' @param j_materias: Número de materias que se van a impartir.
#' @param i_prof: Número de profesores que van impartir alguna materia.
#' @param t_dias: Número de días en los que se darán clases.
#' @param h_periodos: Número de periodos que hay en un día para impartir alguna materia.
#' @param k_salones: Número de salones que se pueden ocupar.
#' @example j_materias, i_prof, t_dias, h_periodos, k_salones \in {1,2,3,...}
#' @param yit: Es una matriz con "i_prof" renglones y "t_dias" columnas, la entrada "i,t" vale 1 si el profesor i va a dar clases el día t y vale 0 e.o.c.
#' @example yit = matrix(c(1,0,0,1),nrow = 2,ncol = 2,byrow = TRUE)
#'
#' @return El valor de la función objetivo del cromosoma que se le pasó como parámetro
utilidad_cromosoma = function(cromosoma,param){
utilidad = 0
for(j in 1:j_materias){
for (i in 1:i_prof){
for(t in 1:t_dias){
for(h in 1:h_periodos){
for(k in 1:k_salones){
if((cromosoma[j,1] == i) && (cromosoma[j,2] == t) && (cromosoma[j,3] == h) && (cromosoma[j,4] == k)){
utilidad = utilidad + (Uji[j,i]*Ujt[j,t])}}}}}}
for (i in 1:i_prof){
for(t in 1:t_dias){
if(yit[i,t] == 1){
utilidad = utilidad + Uit[i,t]}}}
return(utilidad)
}
# Source ------------------------------------------------------------------
#Se utiliza el comando source() para poder cargar todas las funciones que se
#encuentran en el archivo Fn_Horario.
source("Fn_Horario.R")
# Source ------------------------------------------------------------------
#Se utiliza el comando source() para poder cargar todas las funciones que se
#encuentran en el archivo Fn_Horario.
source("Fn_Horario.R")
load("C:/Users/miri_/Dropbox/Carpeta compartida MIri/Programas/Prog V07/.RData")
load("C:/Users/miri_/Dropbox/Carpeta compartida MIri/Programas/Prog V09/Matrices m_grande_total/m_grande_total_20081_20201.RData")
View(m_grande_total)
View(m_grande_total)
load("C:/Users/miri_/Dropbox/Carpeta compartida MIri/Faculty_schedule_simulation/Hidden_files/Tesis/.RData")
# Load required R packages
install.packages('ggpubr')
library(ggpubr)
# Ej. ---------------------------------------------------------------------
# Data preparation
df <- ToothGrowth
head(df)
# Create basic boxplot
ggboxplot(df, x = "dose", y = "len", add = "jitter")
# Create a box plot with summary table
ggsummarystats(
df, x = "dose", y = "len", add = "jitter",
color = "supp", palette = "npg",
ggfunc = ggboxplot
)
# Create basic boxplot
ggboxplot(df, x = "dose", y = "len", add = "jitter")
df
head(df)
ggboxplot(df, x = "dose", y = "len")
# Create basic boxplot
ggboxplot(df, x = "dose", y = "len", add = "jitter")
load("C:/Users/miri_/Dropbox/Carpeta compartida MIri/Faculty_schedule_simulation/Hidden_files/Tesis/Programas/ProgFinal/mat_calif_generaciones.RData")
mat_calif_generaciones
# Create basic boxplot
ggboxplot(mat_calif_generaciones, x = "dose", y = "len", add = "jitter")
mat_calif_generaciones <- data.frame(Gen_1 = mat_calif_generaciones[,1],
Gen_2 = mat_calif_generaciones[,2],
Gen_3 = mat_calif_generaciones[,3],
Gen_4 = mat_calif_generaciones[,4],
Gen_5 = mat_calif_generaciones[,5],
Gen_6 = mat_calif_generaciones[,6])
mat_calif_generaciones
# Create basic boxplot
ggboxplot(mat_calif_generaciones, x = "Generaciones",
y = "Calificaciiones", add = "jitter")
# Create basic boxplot
ggboxplot(mat_calif_generaciones, x = c("Gen_1","Gen_2","Gen_3",
"Gen_4","Gen_5","Gen_6"),
y = "Calificaciiones", add = "jitter")
# Create basic boxplot
ggboxplot(mat_calif_generaciones, x = c("Gen_1","Gen_2","Gen_3",
"Gen_4","Gen_5","Gen_6"),
#y = "Calificaciones",
add = "jitter")
rownames(mat_calif_generaciones) <- c("Calif_1","Calif_2","Calif_3",
"Calif_4","Calif_5","Calif_6")
mat_calif_generaciones
rownames(mat_calif_generaciones) <- c("Calif_1","Calif_2","Calif_3",
"Calif_4","Calif_5","Calif_6",
"Calif_7","Calif_8","Calif_9",
"Calif_10")
mat_calif_generaciones
# Create basic boxplot
ggboxplot(mat_calif_generaciones, x = c("Gen_1","Gen_2","Gen_3",
"Gen_4","Gen_5","Gen_6"),
y = c("Calif_1","Calif_2","Calif_3",
"Calif_4","Calif_5","Calif_6",
"Calif_7","Calif_8","Calif_9",
"Calif_10"),
add = "jitter")
# Ej. R documentation -----------------------------------------------------
#' https://www.rdocumentation.org/packages/ggpubr/versions/0.4.0/topics/ggboxplot
# NOT RUN {
# Load data
data("ToothGrowth")
df <- ToothGrowth
# Basic plot
# +++++++++++++++++++++++++++
# width: change box plots width
ggboxplot(df, x = "dose", y = "len", width = 0.8)
# Change orientation: horizontal
ggboxplot(df, "dose", "len", orientation = "horizontal")
# Notched box plot
ggboxplot(df, x = "dose", y = "len",
notch = TRUE)
# Add dots
# ++++++++++++++++++++++++++
ggboxplot(df, x = "dose", y = "len",
add = "dotplot")
# Add jitter points and change the shape by groups
ggboxplot(df, x = "dose", y = "len",
add = "jitter", shape = "dose")
# Select which items to display: "0.5" and "2"
ggboxplot(df, "dose", "len",
select = c("0.5", "2"))
head(https://www.rdocumentation.org/packages/ggpubr/versions/0.4.0/topics/ggboxplot)
head(df)
# Ej. con datos tesis -----------------------------------------------------
load("C:/Users/miri_/Dropbox/Carpeta compartida MIri/Faculty_schedule_simulation/Hidden_files/Tesis/Programas/ProgFinal/mat_calif_generaciones.RData")
mat_calif_generaciones <- data.frame(Gen_1 = mat_calif_generaciones[,1],
Gen_2 = mat_calif_generaciones[,2],
Gen_3 = mat_calif_generaciones[,3],
Gen_4 = mat_calif_generaciones[,4],
Gen_5 = mat_calif_generaciones[,5],
Gen_6 = mat_calif_generaciones[,6])
mat_calif_generaciones
dim(mat_calif_generaciones)
# Create basic boxplot
ggboxplot(mat_calif_generaciones, x = 1:dim(mat_calif_generaciones)[1],
y = c("Gen_1","Gen_2","Gen_3",
"Gen_4","Gen_5","Gen_6"),
add = "jitter")
mat_calif_generaciones <- data.frame(Gen1 = mat_calif_generaciones[,1],
Gen2 = mat_calif_generaciones[,2],
Gen3 = mat_calif_generaciones[,3],
Gen4 = mat_calif_generaciones[,4],
Gen5 = mat_calif_generaciones[,5],
Gen6 = mat_calif_generaciones[,6])
mat_calif_generaciones
# Create basic boxplot
ggboxplot(mat_calif_generaciones, x = 1:dim(mat_calif_generaciones)[1],
y = c("Gen1","Gen2","Gen3",
"Gen4","Gen5","Gen6"),
add = "jitter")
# Change colors
# +++++++++++++++++++++++++++
# Change outline and fill colors
ggboxplot(df, "dose", "len",
color = "black", fill = "gray")
# Change outline colors by groups: dose
# Use custom color palette
# Add jitter points and change the shape by groups
ggboxplot(df, "dose", "len",
color = "dose", palette =c("#00AFBB", "#E7B800", "#FC4E07"),
add = "jitter", shape = "dose")
# Change fill color by groups: dose
ggboxplot(df, "dose", "len",
fill = "dose", palette = c("#00AFBB", "#E7B800", "#FC4E07"))
# Box plot with multiple groups
# +++++++++++++++++++++
# fill or color box plot by a second group : "supp"
ggboxplot(df, "dose", "len", color = "supp",
palette = c("#00AFBB", "#E7B800"))
# Change outline colors by groups: dose
# Use custom color palette
# Add jitter points and change the shape by groups
ggboxplot(df, "dose", "len",
color = "dose", palette =c("#00AFBB", "#E7B800", "#FC4E07"),
add = "jitter", shape = "dose")
head(df)
1:dim(mat_calif_generaciones)[1]
mat_calif_generaciones
# Create basic boxplot
ggboxplot(mat_calif_generaciones, x = min(mat_calif_generaciones):max(mat_calif_generaciones),
y = c("Gen1","Gen2","Gen3",
"Gen4","Gen5","Gen6"),
add = "jitter")
min(mat_calif_generaciones)
max(mat_calif_generaciones)
length(min(mat_calif_generaciones):max(mat_calif_generaciones))
head(df)
boxplot(mat_calif_generaciones[,1])
# Ej. con datos tesis -----------------------------------------------------
load("C:/Users/miri_/Dropbox/Carpeta compartida MIri/Faculty_schedule_simulation/Hidden_files/Tesis/Programas/ProgFinal/mat_calif_generaciones.RData")
rep(c(1:6),10)
sort(rep(c(1:6),10))
length(mat_calif_generaciones[,1])
dim(mat_calif_generaciones)
sort(rep(c(1:dim(mat_calif_generaciones)[2]),
dim(mat_calif_generaciones)[1]))
df_calif_gen <- data.frame(Calificaciones = 0,
Generaciones = sort(rep(c(1:dim(mat_calif_generaciones)[2]),
dim(mat_calif_generaciones)[1])))
df_calif_gen
dim(df_calif_gen)
dim(mat_calif_generaciones)
k <- 1
(1*(k-1)):(10*(k-1))
(1+(k-1)):(10+(k-1))
k <- 2
(1+(k-1)):(10+(k-1))
(k+(k-1)):((10*k)+(k-1))
(1+(k-1)):(10+(k-1)) #1:10
k <- 1
(1+(k-1)):(10+(k-1)) #1:10 k <- 1
vec <- (1+(k-1)):(10+(k-1)) #1:10 k <- 1
k
k <- 2
k*vec
k
(10*(k-1))+vec
k <- 3
(10*(k-1))+vec
k <- 1
(10*(k-1))+vec
for(k in 1:dim(mat_calif_generaciones)[2]){
vec <- (10*(k-1))+(1+(k-1)):(10+(k-1))
df_calif_gen[vec] <- mat_calif_generaciones[,k]
}
df_calif_gen
1:dim(mat_calif_generaciones)[2]
mat_calif_generaciones
k
mat_calif_generaciones[,k]
vec <- (10*(k-1))+(1+(k-1)):(10+(k-1))
df_calif_gen[vec,1]
df_calif_gen <- data.frame(Calificaciones = 0,
Generaciones = sort(rep(c(1:dim(mat_calif_generaciones)[2]),
dim(mat_calif_generaciones)[1])))
for(k in 1:dim(mat_calif_generaciones)[2]){
vec <- (10*(k-1))+(1+(k-1)):(10+(k-1))
df_calif_gen[vec,1] <- mat_calif_generaciones[,k]
}
df_calif_gen
vec
k
source('C:/Users/miri_/Dropbox/Carpeta compartida MIri/Faculty_schedule_simulation/Hidden_files/Tesis/Programas/ProgFinal/ejemplo_funcion_ggboxplot.R')
for(k in 1:dim(mat_calif_generaciones)[2]){
vec <- (10*(k-1))+(1+(k-1)):(10+(k-1))
cat("k = ", k,"\n vec = ",vec)
# df_calif_gen[vec,1] <- mat_calif_generaciones[,k]
}
for(k in 1:dim(mat_calif_generaciones)[2]){
vec <- (10*(k-1))+(1+(k-1)):(10+(k-1))
cat("\nk = ", k,"\n\n vec = ",vec)
# df_calif_gen[vec,1] <- mat_calif_generaciones[,k]
}
k <- 1
(1+(k-1)):(10+(k-1))
vec <- (1+(k-1)):(10+(k-1))
k
(10*(k-1))+vec
k <- 2
(10*(k-1))+1:10
df_calif_gen <- data.frame(Calificaciones = 0,
Generaciones = sort(rep(c(1:dim(mat_calif_generaciones)[2]),
dim(mat_calif_generaciones)[1])))
for(k in 1:dim(mat_calif_generaciones)[2]){
vec <- (10*(k-1))+1:10
# cat("\nk = ", k,"\n\n vec = ",vec)
df_calif_gen[vec,1] <- mat_calif_generaciones[,k]
}
df_calif_gen
# Create basic boxplot
ggboxplot(mat_calif_generaciones, x = "Generaciones",
y = "Calificaciones",
add = "jitter")
# Create basic boxplot
ggboxplot(df_calif_gen, x = "Generaciones",
y = "Calificaciones",
add = "jitter")
#Source ------------------------------------------------------------------
#Se utiliza el comando source() para poder cargar todas las funciones que
#se encuentran en el archivo Fn_Asignación.
# rm(list=ls())  # Borra variables
# cat("\014") # Borra consola
#Se establece el directorio en el que se va a trabajar
setwd("C:/Users/miri_/Dropbox/Carpeta compartida MIri/Faculty_schedule_simulation/Hidden_files/Tesis")
# Figura ------------------------------------------------------------------
#' Se cargan los datos
load("Programas/Figuras PDF/fig_num_alum_sem_par_impar_Proba_I/mat_alum_sem_impar_proba_I.Rdata")
load("Programas/Figuras PDF/fig_num_alum_sem_par_impar_Proba_I/mat_alum_sem_par_proba_I.Rdata")
load("Programas/Figuras PDF/fig_num_alum_sem_par_impar_Proba_I/mat_alum_x_sem_proba_I.Rdata")
#' Se convierten los datos en serie de tiempo
alum_sem_impar.ts <- ts(mat_alum_sem_impar_proba_I[,2],frequency = 1,
start = c(2015, 1))
alum_sem_impar.ts
min(alum_sem_impar.ts)#682
max(alum_sem_impar.ts)#944
alum_sem_par.ts <- ts(mat_alum_sem_par_proba_I[,2],frequency = 1,
start = c(2015, 1))
alum_sem_par.ts
min(alum_sem_par.ts)#366
max(alum_sem_par.ts)#528
alum_sem_par_impar.ts <- ts(mat_alum_x_sem_proba_I[,2],frequency = 2,
start = c(2015, 1))
alum_sem_par_impar.ts
min(alum_sem_par_impar.ts)#366
max(alum_sem_par_impar.ts)#944
## Se grafica la serie de tiempo
semestres <- mat_alum_x_sem_proba_I[,1]
sem_impar <- mat_alum_sem_impar_proba_I[,1]
sem_par <- mat_alum_sem_par_proba_I[,1]
# plot --------------------------------------------------------------------
plot(semestres,alum_sem_par_impar.ts,ylim=c(0,1000),main = "Probabilidad I",
type="n",xlab="Semestres",ylab="Número de alumnos",axes = FALSE)
points(sem_impar, alum_sem_impar.ts, col=param_graficas$col1_linea,pch="o")
lines(sem_impar, alum_sem_impar.ts, col=param_graficas$col1_linea)
sem_par_aux <- c("20155","20165","20175","20185","20195")
points(sem_par_aux, alum_sem_par.ts, col=param_graficas$col2_linea,pch="o")
lines(sem_par_aux, alum_sem_par.ts, col=param_graficas$col2_linea)
axis(side=1, at = c(20150,20160,20170,20180,20190,20200),
labels=c("2015-1","2016-1","2017-1","2018-1","2019-1","2020-1"))
axis(2)
box() #- To make it look like "usual" plot
legend(20155,400,c("Número de alumnos de semestres impares",
"Número de alumnos de semestres pares"),bty = "n",
col=c(param_graficas$col1_linea,param_graficas$col2_linea),
pch=c("o","o"),lty=c(1,1),#cex=1.1
)
# param -------------------------------------------------------------------
param <- list()
param$sem_ini = 20081##Inicio de información real
param$sem_fin = 20201##Fin de información real
param$sem_sig = 20202##Semestre de simulación
param$sem_totales = (20081:20202)[(20081:20202)%% 10>0 &(20081:20202)%% 10<3]
param$Semestres = (param$sem_ini:param$sem_fin)[(param$sem_ini:param$sem_fin)
%% 10>0 &(param$sem_ini:param$sem_fin) %% 10<3]
param$nombre_sem = as.character(param$Semestres)
param$n_semestres_anteriores = length(param$Semestres)
param$Horas = c(7,8,9,10,11,12,13,14,15,16,17,18,19,20,21)
param$nombre_hrs = c("7-8","8-9","9-10","10-11","11-12",
"12-13","13-14","14-15","15-16",
"16-17","17-18","18-19","19-20",
"20-21","21-22")
param$q1 = 85
param$q2 = 80
param$num_simula_eleccion_materia = 6
param$num_simula_eleccion_horario = 6
param$nom_cols_m14 = c("Materia","Profesor","Horario","Lugares",
"Alumnos","Salon","Grupo","Carrera","Plan",
"Semestre","Cambios","Turno",
"Semestre_de_materia","url")
param$nom_cols_MG = c("Materia","Profesor","Horario","horario_num",
"Lugares","Alumnos","Salon","Grupo","Carrera",
"Plan","Semestre","Cambios","Turno",
"Semestre_de_materia","url","Act2000","Act2006",
"Act2015","CdC1994","CdC2013","Mat1983","MAp2017",
"NomMat_Act2000","NomMat_Act2006","NomMat_Act2015",
"NomMat_CdC1994","NomMat_CdC2013","NomMat_Mat1983",
"NomMat_MAp2017","URL_Act2000","URL_Act2006",
"URL_Act2015","URL_CdC1994","URL_CdC2013",
"URL_Mat1983","URL_MAp2017","Num_materia")
param$m_grande_total = matrix(0,ncol = length(param$nom_cols_MG))
param$m_grande_2015 = matrix(0,ncol = length(param$nom_cols_MG))
param$vec_nom_materias_total = 0
param$mat_nom_prof_total = 0
param$num_max_asig = 2
param$cota_TC = 1000
param$cota_asig = 6000
param$tam_poblacion = 5
param$num_generaciones = 2
param$prob_mutacion = 1/(6+18)
param$n_cols_mat_calif = 2000
param$elige_TC = 0.7
param$mat_info_AG = data.frame(Num_generaciones = 0,
Tam_pob = 0,
Tiempo = 0,
Mejor_calif = 0,
Num_genes_asig_fin = 0,
Calif_asig_fin = 0,
Prom_genes_gen1 = 0,
Prom_genes_generaciones = 0)
# param$ =
# param$ =
load(file = paste0("Matrices m_grande_total/m_grande_total_",
param$sem_ini,"_",param$sem_fin,".RData"))
param$m_grande_total = m_grande_total
load(file = "vec_nom_materias_total.RData")
param$vec_nom_materias_total = vec_nom_materias_total
load(file = "mat_nom_prof_total.RData")
param$mat_nom_prof_total = mat_nom_prof_total
load("Matrices m_grande_total/m_grande_total_20151_20201.RData")
#Se quitan los renglones con NA
# m_grande_total <- m_grande_total[!is.na(m_grande_total[,1]),]
# param$m_grande_2015 = m_grande_total[!is.na(m_grande_total[,1]),]
param$m_grande_2015 = m_grande_total
load("mat_info_AG.RData")
param$mat_info_AG = mat_info_AG
# param_graficas ----------------------------------------------------------
param_graficas <- list()
# param_graficas$color_barras = rgb(91,155,213)##Azul como excel
# param_graficas$col_barras = '#5b9bd5' ##Azul como excel
param_graficas$col_barras = "skyblue" ##Azul cielo
# param_graficas$col1_hist = rgb(0,0,1,1/4)##Azul histogramas
param_graficas$col1_hist = "skyblue" ##Azul cielo histogramas
param_graficas$col2_hist = rgb(1,0,0,1/4)##Rojo histogramas
param_graficas$col3_hist = "purple" ##Morado histogramas
param_graficas$col4_hist = "magenta" ##Magenta histogramas
param_graficas$col5_hist = "limegreen" ##Verde histogramas
# param_graficas$col5_hist = "green" ##Verde histogramas
param_graficas$col1_linea = "blue" ##Azul densidad
param_graficas$col2_linea = "red" ##Rojo densidad
param_graficas$col3_linea = "purple" ##Morado densidad
param_graficas$lwd_dens = 6 #Ancho de línea para densidad ajustada
param_graficas$ancho_pdf = 8 #Anchura para guardar imagen
param_graficas$altura_pdf = 6 #Altura para guardar imagen
param_graficas$dir_TeX = "TeX/LaTeX/Pictures/"
# demo(graphics) # Ejecútela usted
# dev.off()#Para salir de la función par()
# plot --------------------------------------------------------------------
plot(semestres,alum_sem_par_impar.ts,ylim=c(0,1000),main = "Probabilidad I",
type="n",xlab="Semestres",ylab="Número de alumnos",axes = FALSE)
points(sem_impar, alum_sem_impar.ts, col=param_graficas$col1_linea,pch="o")
lines(sem_impar, alum_sem_impar.ts, col=param_graficas$col1_linea)
sem_par_aux <- c("20155","20165","20175","20185","20195")
points(sem_par_aux, alum_sem_par.ts, col=param_graficas$col2_linea,pch="o")
lines(sem_par_aux, alum_sem_par.ts, col=param_graficas$col2_linea)
axis(side=1, at = c(20150,20160,20170,20180,20190,20200),
labels=c("2015-1","2016-1","2017-1","2018-1","2019-1","2020-1"))
axis(2)
box() #- To make it look like "usual" plot
legend(20155,400,c("Número de alumnos de semestres impares",
"Número de alumnos de semestres pares"),bty = "n",
col=c(param_graficas$col1_linea,param_graficas$col2_linea),
pch=c("o","o"),lty=c(1,1),#cex=1.1
)
sem_impar
sem_par
alum_sem_impar.ts
alum_sem_par.ts
#Varianza
var(alum_sem_impar.ts)
sd(alum_sem_impar.ts)
var(alum_sem_par.ts)
sd(alum_sem_par.ts)
#Source ------------------------------------------------------------------
#Se utiliza el comando source() para poder cargar todas las funciones que
#se encuentran en el archivo Fn_Asignación.
# rm(list=ls())  # Borra variables
# cat("\014") # Borra consola
#Se establece el directorio en el que se va a trabajar
setwd("C:/Users/miri_/Dropbox/Carpeta compartida MIri/Faculty_schedule_simulation/Hidden_files/Tesis")
# Figura ------------------------------------------------------------------
#' Se cargan los datos
load("Programas/Figuras PDF/fig_num_alum_x_turno_Proba_I/mat_alum_matu_vesp_proba_I.Rdata")
#' Se convierten los datos en serie de tiempo
alum_matutino.ts <- ts(mat_alum_matu_vesp_proba_I[,2],frequency = 2, start = c(2015, 1))
alum_matutino.ts
min(alum_matutino.ts)#233
max(alum_matutino.ts)#706
alum_vespertino.ts <- ts(mat_alum_matu_vesp_proba_I[,3],frequency = 2, start = c(2015, 1))
alum_vespertino.ts
min(alum_vespertino.ts)#72
max(alum_vespertino.ts)#255
## Se define un vector auxiliar para tener bien los semestres
semestres_aux <- sem_par_aux <- c("20150","20155",
"20160","20165",
"20170","20175",
"20180","20185",
"20190","20195","20200")
# plot --------------------------------------------------------------------
plot(semestres_aux,alum_matutino.ts,ylim=c(-100,750),main = "Probabilidad I",
type="o",xlab="Semestres",ylab="Número de alumnos",axes = FALSE,
col=param_graficas$col1_linea,pch="o")
points(semestres_aux, alum_vespertino.ts, col=param_graficas$col2_linea,pch="o")
lines(semestres_aux, alum_vespertino.ts, col=param_graficas$col2_linea)
axis(side=1, at = c(20150,20160,20170,20180,20190,20200),
labels=c("2015-1","2016-1","2017-1","2018-1","2019-1","2020-1"))
axis(2)
box() #- To make it look like "usual" plot
legend(20155,120,c("Número de alumnos en el turno matutino",
"Número de alumnos en el turno vespertino"),bty = "n",
col=c(param_graficas$col1_linea,param_graficas$col2_linea),
pch=c("o","o"),lty=c(1,1),#cex=1.1
)
#Varianza y sd
var(alum_matutino.ts)
sd(alum_matutino.ts)
var(alum_vespertino.ts)
sd(alum_vespertino.ts)
